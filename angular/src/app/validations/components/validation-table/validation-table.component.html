<!-- <div class="filter-form">
  
  <mat-form-field appearance="fill" style="margin-left: 30px">
    <mat-label i18n>Show rules</mat-label>
    <mat-select (selectionChange)="applyFilter()" [(value)]="requiredRule" [(ngModel)]="requiredRule">
      <mat-option i18n>All</mat-option>
      <mat-option [value]="true" i18n>Mandatory</mat-option>
      <mat-option [value]="false" i18n>Not mandatory</mat-option>
    </mat-select>
  </mat-form-field>

</div> -->
<div class="table-container
  animate__animated animate__fadeInRight animate__faster">
    <div class="table-content-container">
      <p-table 
      [value]="dataSource"
      [paginator]="true"
      rows="10"
      [showCurrentPageReport]="true"
      currentPageReportTemplate="Showing {first} to {last} of {totalRecords} entries"
      [rowsPerPageOptions]="[10, 25, 50]">
      <ng-template pTemplate="header" >
          <tr>
              <th *ngFor="let item of displayedColumns" 
              pSortableColumn="{{item}}">
                {{item}} 
                <p-sortIcon field="{{item}}"></p-sortIcon>
              </th>
              <th>Records</th>
              <th></th>
          </tr>
      </ng-template>
      <ng-template pTemplate="body" let-dataSource>
          <tr>
            <td>{{dataSource.ruleID}}</td>
            <td>{{dataSource.name}}</td>
            <td>{{dataSource.description}}</td>
            <td>{{dataSource.mandatory}}</td>
            <td>
              <div class="clearfix">
                <div class="float-left">
                  <strong>{{ dataSource.conformity / 100 | percent: '1.3' }}</strong>
                </div>
              </div>
              <mat-progress-bar 
                value="{{ dataSource.conformity > 0 
                  ? dataSource.conformity 
                  : 100 }}">
              </mat-progress-bar>
            </td>
            <td>{{dataSource.validCount | number}}</td>
            <td>
              <p-button *ngIf="dataSource.conformity == 100"
                disabled="true"
                styleClass="p-button-secondary p-button-sm"
                label="100%"
                ></p-button>
              <p-button *ngIf="dataSource.conformity < 100"
                styleClass="p-button-danger p-button-sm"
                label="Records"
                ></p-button>
            </td>
            <td>
              <p-button *ngIf="dataSource.conformity == 100 && !admUser"
                disabled="true"
                styleClass="p-button-secondary p-button-sm"
                label="100%"
                ></p-button>

              <p-button *ngIf="dataSource.conformity < 100 || admUser"
                styleClass="p-button-primary p-button-sm"
                label="Details"
                ></p-button>
            </td>
          </tr>
      </ng-template>
  </p-table>
</div>
</div>





<!-- <div class="table-container">
            <a
              target="_blank"
              routerLink="/{{ this.acronym }}/validation/{{
                this.harvestingID
              }}/invalid_rule/{{ rule.ruleID }}"
            >
              <button
                mat-raised-button color="warn" class="btn text-nowrap btn-records"
                i18n-matTooltip
                matTooltip="Records that contain this invalid rule"
                matTooltipPosition="above"
                i18n
              >
                Records
              </button>
            </a>
          </div>
        </td>
      </ng-container>

      <ng-container matColumnDef="button-detail">
        <th mat-header-cell *matHeaderCellDef></th>
        <td mat-cell *matCellDef="let rule">
          <span class="badge badge-secondary" *ngIf="rule.conformity == 100 && !admUser">
            100%
          </span>
          <button *ngIf="rule.conformity < 100 || admUser"
            type="button"
            class="btn btn-primary"
            (click)="detailClick(rule)"
            i18n-matTooltip
            matTooltip="Details about this rule"
            matTooltipPosition="above"
            i18n
          >
            Details
          </button>
        </td>
      </ng-container>

      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
    </table>

    <mat-paginator
      #paginator
      [length]="dataSource?.data.length"
      [pageIndex]="0"
      [pageSize]="10"
      [pageSizeOptions]="[10, 25, 50, 100, 250]"
    >
    </mat-paginator>
  </div>

  <app-table-exporter
    class="app-exporter"
    [data]="csvData"
    [header]="headerData"
  ></app-table-exporter>
</div> -->
